- addMavenRepository: 'https://devtools.jahia.com/nexus/content/groups/public/@snapshots@noreleases@id=JahiaPublicSnapshots'
  username: "NEXUS_USERNAME"
  password: "NEXUS_PASSWORD"

- addMavenRepository: 'https://devtools.jahia.com/nexus/content/repositories/jahia-snapshots/@id=jahia_snapshots'
  username: "NEXUS_USERNAME"
  password: "NEXUS_PASSWORD"

- addMavenRepository: 'https://devtools.jahia.com/nexus/content/repositories/jahia_staging_releases-2957/@id=jahia_staging_releases-2957'
  username: "NEXUS_USERNAME"
  password: "NEXUS_PASSWORD"

- installBundle:
    - 'mvn:org.jahia.modules/javascript-modules-engine/1.2.0'
  autoStart: true
  uninstallPreviousVersion: true

- installBundle:
    - 'mvn:org.jahia.modules/user-password-authentication-api/0.2.0'
    - 'mvn:org.jahia.test/user-password-authentication-template-set-test-module/0.2.0'
    - 'mvn:org.jahia.test/user-password-authentication-mfa-custom-factor-test-module/0.2.0'
    - 'mvn:org.jahia.test/user-password-authentication-mfa-custom-email-code-template-test-module/0.2.0'
    - 'js:mvn:org.jahia.modules.javascript/user-password-authentication-ui/0.2.0/tgz'
  autoStart: true
  uninstallPreviousVersion: true

- executeScript: "https://raw.githubusercontent.com/Jahia/jahia-qa-data/refs/heads/main/provisionning-files/user-password-authentication/user-password-authentication-setup-smtp.groovy"
